# This file is a part of Definator (https://github.com/aparaatti/definator)
# and it is licensed under the GPLv3 (http://www.gnu.org/licenses/gpl-3.0.txt).
#
# Author Niko Humalamäki
skinparam shadowing false
@startuml

class TermsController {
    -Term[] deletedTerms
    -Term[] addedTerms
}

class Term {
    -Str term
    -Str[] relatedTerms
    -Link[] links
    .. linking ..
    +linkTerm(term : str)
    +unlinkTerm(term : str)
    +linkImage(image : str)
    +unlinkImage(image : str)
    +linkFile(file : str)
    +unlinkFile(file : str)
    .. access ..
    +getRelatedTerms() : str[]
    +getImages() : str[]
    +getFiles() : str[]
    +getDescription() : str
}

class Description {
    -Text text
    +getText() : Text
    +save(path : str)
}

class Links {
    -Link[] links
    +Links(path : str)
    +addLink(type : str, value : str)
    +save(path : str)
}

class Link {
    -str[] allowedTypes
    -str[] type
    -str[] value
    +Link(type : str,value : str)
}

interface DefinatorGUIInterface {
    .. File handling ..
    +loadProject(path : str)
    +saveProject()
    +setPath(path : str)
    +linkImage(term : Term, path : str)
    +linkFile(term : Term, path : str)
    ..
    +linkTerms(term : Term, relatedTerms : Term[])
    +unlinkTerms(term : Term, relatedTerms : Term[])
    +unlinkImage(term : Term, filename : str, file : File)
    +unlinkFile(term : Term, filename : str, file : File)
    ..
    +getTerms() : Term[]
    +addTerm(term : Term)
    +remTerm(term : Term)
}

TermsController *-- "*" Term
Term *-- Description
Term *-- Links
Links *-- "*" Link
TermsController --|> DefinatorGUIInterface

@enduml
